"use strict";document.body.classList.remove("no-js");const menuButton=document.querySelector(".burger-button");menuButton&&menuButton.addEventListener("click",(()=>{document.body.classList.toggle("menu-open-js")}));const selects=document.querySelectorAll(".custom-select"),selectButtons=document.querySelectorAll(".custom-select__title"),selectOptions=document.querySelectorAll(".custom-select__item");selectButtons.length&&selectButtons.forEach((e=>{e.addEventListener("click",(e=>{e.target.closest(".custom-select").classList.toggle("select-opened")}))})),selectOptions.length&&selectOptions.forEach((e=>{e.addEventListener("click",(e=>{const t=e.target.closest(".custom-select"),o=e.target.getAttribute("data-value"),s=document.querySelector(`#${t.id} input[type=hidden]`),c=document.querySelector(`#${t.id} .custom-select__title`),l=document.querySelectorAll(`#${t.id} .custom-select__item`);t.classList.remove("select-opened"),s.value=o,c.textContent=o,l.length&&l.forEach((e=>{e.classList.remove("selected")})),e.target.classList.add("selected")}))}));const closeAllSelects=()=>{selects.forEach((e=>{e.classList.remove("select-opened")}))};document.addEventListener("keydown",(e=>{"Escape"===e.key&&selects.forEach((e=>{e.classList.remove("select-opened")}))}));const fileInputs=document.querySelectorAll(".custom-file__input"),fileButtons=document.querySelectorAll(".custom-file__button"),onFileButtonClick=e=>{e.target.closest(".custom-file").querySelector("input").click()},onFileButtonRemoveClick=e=>{const t=e.target.closest(".custom-file"),o=e.currentTarget,s=t.querySelector(`#${t.id} input`),c=o.querySelector(".custom-file__button-text");s.value="",o.classList.remove("loaded"),c.textContent="Прикрепить файл",o.removeEventListener("click",onFileButtonRemoveClick),o.addEventListener("click",onFileButtonClick)};fileButtons.length&&fileButtons.forEach((e=>{e.addEventListener("click",onFileButtonClick)})),fileInputs.length&&fileInputs.forEach((e=>{e.addEventListener("change",(e=>{const{files:t}=e.target,o=e.target.closest(".custom-file").querySelector(".custom-file__button"),s=o.querySelector(".custom-file__button-text");if(t.length){const e=t[0].name;o.classList.add("loaded"),s.textContent=e,o.removeEventListener("click",onFileButtonClick),o.addEventListener("click",onFileButtonRemoveClick)}}))}));const form=document.querySelector(".order-form"),formFileButtons=form.querySelectorAll(".custom-file__button"),showSuccessMessage=e=>{const t={};for(const[o,s]of e.entries())t[o]=s,"object"==typeof s&&(t[o]=s.name);const o=document.createElement("div");o.className="modal",o.innerHTML=`\n  <div class="modal__header">Вы успешно отправили следующие данные:</div>\n  <div class="modal__body">\n    <pre><code>${JSON.stringify(t,null,2)}</code></pre>\n  </div>\n  <div class="modal__footer">\n    <button class="modal__successes-button button">OK</button>\n  <div>\n  `,document.body.append(o);const s=document.querySelectorAll(".modal button");s.length&&s.forEach((e=>{e.addEventListener("click",(()=>{o.remove()}))})),setTimeout((()=>o.remove()),5e3)},onFormSubmit=e=>{e.preventDefault(),new FormData(e.target),e.target.reset(),formFileButtons.forEach((e=>{const t=e.firstChild;e.classList.remove("loaded"),t.textContent="Прикрепить файл"}))},showFormDataValues=e=>{showSuccessMessage(e.formData)};form.addEventListener("submit",onFormSubmit),form.addEventListener("formdata",showFormDataValues);